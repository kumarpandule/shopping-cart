import{w as d,d as s}from"./paths.BfzoKRLe.js";import{g as o}from"./scheduler.bP4N0Hkb.js";function c(){if(typeof window<"u"&&window.localStorage){const t=localStorage.getItem("cart");return t?JSON.parse(t):[]}return[]}function u(t){localStorage.setItem("cart",JSON.stringify(t))}const r=d(c()),f={subscribe:r.subscribe,addProduct(t){r.update(a=>{const e=a.find(n=>n.id===t.id);let i;return e?i=a.map(n=>n.id===t.id?{...n,quantity:n.quantity+1}:n):i=[...a,{...t,quntity:t.quantity||1}],u(i),i})},removeProduct(t){r.update(a=>{const e=a.filter(i=>i.id!==t);return u(e),e})},increaseQuantity(t){r.update(a=>a.map(e=>e.id===t?{...e,quantity:e.quantity+1}:e))},decreaseQantity(t){r.update(a=>a.map(e=>e.id===t?{...e,quantity:e.quantity-1}:e))},productQuantity(t){const a=o(r).find(e=>e.id===t);return a?a.quantity:0},clearCart(){r.set([]),u([])}},m=s(r,t=>t.reduce((a,e)=>a+e.price*e.quantity,0)),q=s(r,t=>t.reduce((a,e)=>a+e.quantity,0));export{q as a,r as m,m as t,f as u};
